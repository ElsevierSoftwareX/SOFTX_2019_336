

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5. Troubleshooting Models &mdash; sDNA Open 4.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="sDNA Open 4.0.2 documentation" href="index.html" />
    <link rel="next" title="6. Installation and first usage" href="installation_usage.html" />
    <link rel="prev" title="4. Analysis: full specification" href="analysis-spec.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="installation_usage.html" title="6. Installation and first usage"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="analysis-spec.html" title="4. Analysis: full specification"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">sDNA Open 4.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/weblogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="network_preparation.html">2. Network Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis-friendly.html">3. Analysis: what the results mean</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis-spec.html">4. Analysis: full specification</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">5. Troubleshooting Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#is-the-model-wrong-or-am-i">5.1. Is the model wrong, or am I?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#links-with-low-flow-in-the-model-which-we-didnt-expect">Links with low flow in the model which we didn’t expect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#links-with-high-flow-in-the-model-which-we-didnt-expect">Links with high flow in the model which we didn’t expect</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation_usage.html">6. Installation and first usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide_to_individual_tools.html">7. Guide to individual tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="step_by_step_guides.html">8. Step by step guides for specific tasks</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="analysis-spec.html"
                        title="previous chapter">4. Analysis: full specification</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation_usage.html"
                        title="next chapter">6. Installation and first usage</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="troubleshooting-models">
<span id="troubleshooting"></span><h1>5. Troubleshooting Models<a class="headerlink" href="#troubleshooting-models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="is-the-model-wrong-or-am-i">
<h2>5.1. Is the model wrong, or am I?<a class="headerlink" href="#is-the-model-wrong-or-am-i" title="Permalink to this headline">¶</a></h2>
<p>If a model doesn’t meet expectations then it is possible that either
expectations or the model are out of line with reality. The difficulty
is, of course, how to tell which. In cases where predictions can be
compared to actual measurements, these can be used to determine what is
wrong with the model. Are all outliers in a cycle model on a certain type of road, for
example? The model is probably over or underestimating the effect of
traffic. All in a certain part of town? The model could be misestimating
the weight of a particular origin or destination. Isolated errors? These can be
caused by the spatial network model misrepresenting what is actually
there; for example, roads disconnected in the model when they are
connected in reality.</p>
<p>In other cases, we have no predictions with which to be sure, but the
model doesn’t seem to match expectations. Two techniques can be used to
drill into why the model predicts what it does; and hence help decide
whether the results are likely to be correct.</p>
<div class="section" id="links-with-low-flow-in-the-model-which-we-didnt-expect">
<h3>Links with low flow in the model which we didn’t expect<a class="headerlink" href="#links-with-low-flow-in-the-model-which-we-didnt-expect" title="Permalink to this headline">¶</a></h3>
<p>If a flow is unexpectedly low, then you as the user likely have an
expectation of which origins and destinations should cause that flow.
sDNA allows plotting of individual routes between origins and
destinations, so it is possible to select some and try it.</p>
<ol class="arabic simple">
<li>Pick an origin/destination pair. Note down their object IDs in the
network dataset. Suppose for this example, the origin has id 482 and
the destination is 9907.</li>
<li>Run sDNA Geodesics <em>with the same configuration as the model run</em>. :<ol class="loweralpha">
<li>Add “n” to the list of radii, e.g. 1000, 2000, 3000, 4000, n</li>
<li>Set origins to 482 and destinations to 9907
(or whichever origin and destination id you noted down in step
1)</li>
</ol>
</li>
</ol>
<p>Be careful not to run Geodesics without specifying an origin and
destination – or a LOT of data will be generated (routes for every
origin/destination pair).</p>
<p>On inspecting the geodesic, one of two errors may be apparent:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Geodesic is generated for radius n but not the radius used in
analysis. This means the endpoints were too distant for the chosen radius.</li>
<li>Geodesic is generated between the endpoints but not passing
through the expected link. This implies that the analysis metric for routes through the expected link must
be higher than the analysis metric for the actual geodesic.  Inspecting the geodesic’s analysis metric and
compare to metrics generated from the expected route.  The latter is shown for each link in the original
cycle model output, as <em>Hybrid Metric Fwd (HmF)</em> and <em>Hybrid Metric Bwd (HmB)</em>.
Inspection may reveal why the model regards the unexpected route
as preferable, or may hint at problems in the spatial model.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="links-with-high-flow-in-the-model-which-we-didnt-expect">
<h3>Links with high flow in the model which we didn’t expect<a class="headerlink" href="#links-with-high-flow-in-the-model-which-we-didnt-expect" title="Permalink to this headline">¶</a></h3>
<p>If a flow is unexpectedly high, run a betweenness or geodesics analysis with an <a class="reference internal" href="guide_to_individual_tools.html#intermediate-link-filter"><span>intermediate link filter</span></a> to find out where the flow comes from.</p>
<ol class="arabic simple">
<li>Create a new data field on the network, set to 0 everywhere but 1 on the link we are expecting.</li>
<li>Run sDNA Integral or Geodesics with an intermediate link filter specifying the new data field.</li>
</ol>
<p>sDNA Integral will produce a map of flows passing through the link; sDNA Geodesics will allow identification of individual paths.  Either way, trace the source of the predicted flows to establish whether or not there is an error; and if so whether it is in the origin/destination weighting, the analysis metric affecting the choice of routes, or the network geometry.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="installation_usage.html" title="6. Installation and first usage"
             >next</a></li>
        <li class="right" >
          <a href="analysis-spec.html" title="4. Analysis: full specification"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">sDNA Open 4.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>